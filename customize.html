<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Create Your Surprise ‚ú®</title>

<link href="https://fonts.googleapis.com/css2?family=Comic+Neue:wght@400;700&family=Luckiest+Guy&display=swap" rel="stylesheet">

<style>
body{
  margin:0;
  font-family:'Comic Neue', cursive;
  background:linear-gradient(135deg,#ffecd2,#fcb69f);
  overflow:hidden;
}

.wizard{
  display:flex;
  width:500%;
  height:100vh;
  transition:transform .5s ease;
}

.step{
  width:100%;
  padding:30px 20px;
  box-sizing:border-box;
  text-align:center;
}

h1{
  font-family:'Luckiest Guy', cursive;
  color:#ff6f61;
  font-size:2.2rem;
}

p{
  font-size:1.1rem;
}

input,textarea,select{
  width:90%;
  max-width:400px;
  padding:12px;
  margin:8px 0;
  border:none;
  border-radius:12px;
  font-size:1rem;
}

textarea{resize:none;min-height:80px;}

.option{
  display:inline-block;
  padding:10px 18px;
  margin:6px;
  border-radius:20px;
  background:#fff;
  cursor:pointer;
  font-weight:bold;
}

.option.active{
  background:#ff6f61;
  color:#fff;
}

.preview{
  max-width:200px;
  border-radius:14px;
  margin-top:10px;
  display:none;
}

.nav{
  position:fixed;
  bottom:20px;
  width:100%;
  display:flex;
  justify-content:space-between;
  padding:0 20px;
  box-sizing:border-box;
}

button{
  padding:12px 22px;
  border:none;
  border-radius:20px;
  background:#ff6f61;
  color:white;
  font-family:'Luckiest Guy', cursive;
  font-size:1rem;
}

.secondary{
  background:#ffb3c6;
  color:#6a040f;
}

.notice{
  font-size:.85rem;
  opacity:.7;
  margin-top:15px;
}
</style>
</head>

<body>

<div class="wizard" id="wizard">

<!-- STEP 1 -->
<div class="step">
  <h1>Step 1 üëã</h1>
  <p>Who is this for?</p>
  <input id="name" placeholder="Enter name">
  <div class="notice">‚è≥ Data auto-deletes after 3 days</div>
</div>

<!-- STEP 2 -->
<div class="step">
  <h1>Step 2 üí¨</h1>
  <p>Questions & message</p>
  <input id="q1" placeholder="Question 1">
  <input id="q2" placeholder="Question 2">
  <textarea id="finalMsg" placeholder="Final message"></textarea>
</div>

<!-- STEP 3 -->
<div class="step">
  <h1>Step 3 üé®</h1>
  <p>Choose theme</p>
  <div>
    <span class="option active" onclick="setTheme('cute',this)">Cute</span>
    <span class="option" onclick="setTheme('romantic',this)">Romantic</span>
    <span class="option" onclick="setTheme('dark',this)">Dark</span>
    <span class="option" onclick="setTheme('funny',this)">Funny</span>
  </div>

  <p>Animation style</p>
  <div>
    <span class="option active" onclick="setAnimStyle('simple',this)">Simple</span>
    <span class="option" onclick="setAnimStyle('playful',this)">Playful</span>
  </div>

  <select id="animType">
    <option value="fade">Fade</option>
    <option value="slide">Slide</option>
    <option value="bounce">Bounce</option>
    <option value="type">Typewriter</option>
  </select>
</div>

<!-- STEP 4 -->
<div class="step">
  <h1>Step 4 üì∏üéµ</h1>
  <p>Add photo & music (optional)</p>

  <input type="file" accept="image/*" onchange="loadImage(event)">
  <img id="imgPreview" class="preview">

  <br><br>

  <input type="file" accept="audio/*" onchange="loadMusic(event)">
</div>

<!-- STEP 5 -->
<div class="step">
  <h1>Step 5 üöÄ</h1>
  <p>All done!</p>
  <button onclick="create()">Create Surprise üíñ</button>
</div>

</div>

<div class="nav">
  <button class="secondary" onclick="prev()">‚¨Ö Back</button>
  <button onclick="next()">Next ‚û°</button>
</div>

<script>
let step=0;
const wizard=document.getElementById("wizard");

function update(){wizard.style.transform=`translateX(-${step*20}%)`}

function next(){save();if(step<4)step++;update();}
function prev(){if(step>0)step--;update();}

function save(){
  localStorage.personName=name.value;
  localStorage.q1=q1.value;
  localStorage.q2=q2.value;
  localStorage.finalMsg=finalMsg.value;
  localStorage.theme=localStorage.theme||'cute';
  localStorage.animStyle=localStorage.animStyle||'simple';
  localStorage.animType=animType.value;
}

function setTheme(t,el){
  localStorage.theme=t;
  document.querySelectorAll('.step:nth-child(3) .option').forEach(o=>o.classList.remove('active'));
  el.classList.add('active');
}

function setAnimStyle(a,el){
  localStorage.animStyle=a;
  document.querySelectorAll('.step:nth-child(3) .option').forEach(o=>o.classList.remove('active'));
  el.classList.add('active');
}

function loadImage(e){
  const img=URL.createObjectURL(e.target.files[0]);
  localStorage.photo=img;
  imgPreview.src=img;
  imgPreview.style.display="block";
}

function loadMusic(e){
  const m=URL.createObjectURL(e.target.files[0]);
  localStorage.music=m;
}

function create(){
  localStorage.expiry=Date.now()+3*24*60*60*1000;
  location.href="index.html";
}

// swipe
let startX=0;
document.addEventListener("touchstart",e=>startX=e.touches[0].clientX);
document.addEventListener("touchend",e=>{
  let endX=e.changedTouches[0].clientX;
  if(startX-endX>50)next();
  if(endX-startX>50)prev();
});
</script>

</body>
</html>